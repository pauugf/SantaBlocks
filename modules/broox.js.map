{"mappings":"AEmBO,KAAK,CAAC,yCAAS,IAAI,KAAuB,EAAE,OAAiC,EAAE,gBAAwB,EAAE,iBAAyB,EAAE,YAAoB,EAAE,YAAoB,EAAE,MAAM,GAAG,KAAK,GAAK,CAAC;IACzM,yCAAW,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,WAAW,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,YAAY,EAAE,YAAY,EAAE,MAAM;AAC1I,CAAC;AAuBM,KAAK,CAAC,yCAAW,IAAI,OAA0B,EAAE,OAAiC,EAAE,WAAmB,EAAE,YAAoB,EAAE,gBAAwB,EAAE,iBAAyB,EAAE,YAAoB,EAAE,YAAoB,EAAE,MAAM,GAAG,KAAK,GAAK,CAAC;IACzP,yCAAiB,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,YAAY,EAAE,YAAY,EAAE,MAAM;AACrJ,CAAC;AAyBO,KAAK,CAAC,yCAAiB,IAAI,OAA0B,EAAE,OAAiC,EAAE,UAAmB,EAAE,WAAmB,EAAE,YAAoB,EAAE,OAAe,EAAE,OAAe,EAAE,gBAAwB,EAAE,iBAAyB,EAAE,YAAoB,EAAE,YAAoB,EAAE,MAAM,GAAG,KAAK,GAAK,CAAC;IACvT,EAAa,AAAb,WAAa;IACb,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAE,gBAAgB,GAAG,WAAW,GAAI,GAAG,IAAI,GAAG;IAChF,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAE,iBAAiB,GAAG,YAAY,GAAI,GAAG,IAAI,GAAG;IAChF,GAAG,CAAC,MAAM,GAAG,CAAC;IACd,GAAG,CAAC,KAAK,GAAG,CAAC;IACb,GAAG,CAAC,UAAU,GAAG,CAAC;IAClB,GAAG,CAAC,SAAS,GAAG,CAAC;IACjB,EAAuE,AAAvE,qEAAuE;IACvE,EAAE,EAAC,aAAa,KAAK,eAAe,EAAE,CAAC;QACrC,KAAK,GAAG,WAAW;QACnB,MAAM,GAAG,YAAY;QACrB,UAAU,GAAG,CAAC;QACd,SAAS,GAAG,CAAC;IACf,CAAC,MACI,EAAE,EAAE,aAAa,GAAG,eAAe,IAAI,UAAU,IAAM,aAAa,GAAG,eAAe,KAAK,UAAU,EAAG,CAAC;QAC5G,MAAM,GAAG,YAAY;QACrB,KAAK,GAAG,gBAAgB,GAAG,aAAa;QACxC,UAAU,IAAI,WAAW,GAAG,KAAK,IAAI,CAAC;IACxC,CAAC,MACI,CAAC;QACJ,KAAK,GAAG,WAAW;QACnB,MAAM,GAAG,iBAAiB,GAAG,eAAe;QAC5C,SAAS,IAAI,YAAY,GAAG,MAAM,IAAI,CAAC;IACzC,CAAC;IACD,EAAE,EAAC,MAAM,EAAE,CAAC;QACV,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC;QACnB,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,OAAO,GAAG,UAAU,EAAE,OAAO,GAAG,SAAS,EAAE,KAAK,EAAE,MAAM,GAAG,YAAY,EAAE,YAAY,GAAG,gBAAgB,EAAE,iBAAiB;IACxJ,CAAC,MAEC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,OAAO,GAAG,UAAU,EAAE,OAAO,GAAG,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,gBAAgB,EAAE,iBAAiB;AAExJ,CAAC;;;;UEvGI,OAAO;IAAP,OAAO,CACV,CAAc,mBAAG,CAAkB;IADhC,OAAO,CAEV,CAAoB,yBAAG,CAAqC;GAFzD,6BAAO,KAAP,6BAAO;;IAKZ,wCAAuB,GAAR,6BAAO;;;ADKf,KAAK,CAAC,yCAAmB,OAAyB,CAAC;IACxD,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,GAAK,CAAC;QACvC,SAAS,CAAC,YAAY,CAAC,gBAAgB,GACpC,IAAI,EAAC,OAAO,GAAI,CAAC;YAChB,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,GAAG,EAAC,CAAC,GAAI,CAAC;gBAC/B,MAAM,CAAC,CAAC;oBACN,EAAE,EAAE,CAAC,CAAC,QAAQ;oBACd,IAAI,EAAE,CAAC,CAAC,KAAK;gBACf,CAAC;YACH,CAAC;YACD,OAAO,CAAC,MAAM;QAChB,CAAC,EACA,KAAK,EAAC,KAAK,GAAI,CAAC;YACf,MAAM,CAAC,KAAK,CAAC,OAAO;QACtB,CAAC;IACL,CAAC;AACH,CAAC;AAaM,KAAK,CAAC,yCAAW,IAAI,IAAY,GAAsB,CAAC;IAC7D,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,GAAK,CAAC;QACvC,SAAS,CAAC,YAAY,CAAC,gBAAgB,GACpC,IAAI,EAAC,OAAO,GAAI,CAAC;YAChB,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,GAClC,EAAE,EAAC,OAAO,CAAC,CAAC,EAAE,KAAK,KAAK,IAAI,EAAE,CAAC;gBAC7B,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE,QAAQ;gBAC3B,MAAM;YACR,CAAC;YAEH,MAAM,CAAC,wCAAO,CAAC,cAAc;QAC/B,CAAC,EACA,KAAK,EAAC,KAAK,GAAI,CAAC;YACf,MAAM,CAAC,KAAK,CAAC,OAAO;QACtB,CAAC;IACL,CAAC;AACH,CAAC;AAeM,KAAK,CAAC,yCAAW,IAAI,QAAgB,EAAE,KAAa,EAAE,MAAc,GAA2B,CAAC;IACrG,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;QAAC,KAAK,EAAE,CAAC;YAAC,QAAQ,EAAE,QAAQ;YAAE,KAAK,EAAE,KAAK;YAAE,MAAM,EAAE,MAAM;QAAC,CAAC;IAAA,CAAC;AAC3G,CAAC;;;AEhEO,KAAK,CAAC,yCAAW,IAAI,IAAU,GAAK,CAAC;IAC3C,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,GAAK,CAAC;QAC/B,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK;QACvB,KAAK,CAAC,MAAM,OAAS,CAAC;YACpB,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG;YAC7B,OAAO,CAAC,KAAK;QACf,CAAC;QACD,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI;IACtC,CAAC;AACH,CAAC;;;;MCJY,yCAAW;IAMtB,EAKG,AALH,iLAKG,AALH,EAKG,aACS,KAAa,EAAE,MAAc,EAAE,WAAmB,CAAE,CAAC;QAC/D,IAAI,CAAC,WAAW,GAAG,WAAW;QAC9B,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAQ;QAC7C,IAAI,CAAC,KAAK,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,KAAK;QACnD,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK;QACzB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC;QAC/D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAI;QAC1C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAO;QAChC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM;IACnE,CAAC;IAED,EAeG,AAfH,qnBAeG,AAfH,EAeG,CACH,UAAU,CAAC,OAAY,EAAE,CAAS,EAAE,CAAS,EAAE,KAAa,EAAE,MAAc,EAAE,KAAa,EAAE,MAAe,EAAE,CAAC;QAC7G,KAAK,CAAC,gBAAgB,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK;QACnD,KAAK,CAAC,iBAAiB,GAAG,MAAM,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK;QACrD,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK;QAC9D,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK;QAC9D,0DAAW,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,YAAY,EAAE,YAAY,EAAE,MAAM;IAC3H,CAAC;IAED,EAEG,AAFH,oCAEG,AAFH,EAEG,CACH,KAAK,GAAG,CAAC;QACP,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM;IACpE,CAAC;IAED,EASG,AATH,6PASG,AATH,EASG,CACH,GAAG,GAAkB,CAAC;QACpB,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,GAAK,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,EAAC,IAAI,GAAI,OAAO,CAAC,IAAI;cAAG,CAAY,aAAE,CAAC;QAC3D,CAAC;IACH,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCpEU,yCAAQ;gBAeP,MAAoB,CAAE,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG,MAAM;IACtB,CAAC;IAED,EAGG,AAHH,2EAGG,AAHH,EAGG,CACH,SAAS,CAAC,MAAmB,EAAE,CAAC;QAC9B,IAAI,CAAC,MAAM,GAAG,MAAM;IACtB,CAAC;IAED,EAEG,AAFH,8BAEG,AAFH,EAEG,CACH,KAAK,CAAC,OAA6B,EAAE,CAAC;QACpC,KAAK,CAAC,IAAI,GAAG,IAAI;QACjB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,GAAK,CAAC;YAC/C,IAAI,CAAC,OAAO,GAAG,OAAO;QACxB,CAAC;QACD,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC;QAAA,CAAC;QAC5D,IAAI,CAAC,QAAQ,CAAC,eAAe,IAAG,CAAC,GAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI;;QACrD,IAAI,CAAC,QAAQ,CAAC,MAAM,OAAS,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;gBAAC,IAAI,EAAE,CAAY;YAAC,CAAC;QACpD,CAAC;QACD,IAAI,CAAC,QAAQ,CAAC,KAAK;IACrB,CAAC;IAED,EAEG,AAFH,6BAEG,AAFH,EAEG,CACH,IAAI,GAAkB,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,CAAW,cAAI,IAAI,CAAC,QAAQ,CAAC,IAAI;QACzD,MAAM,CAAC,IAAI,CAAC,OAAO;IACrB,CAAC;;;;;;;;;;;;;;UE3DS,yCAAW;IAAX,yCAAW,CACrB,CAAU,eAAG,CAAc;IADjB,yCAAW,CAErB,CAAW,gBAAG,CAAe;IAFnB,yCAAW,CAGrB,CAAW,gBAAG,CAAe;IAHnB,yCAAW,CAIrB,CAAU,eAAG,CAAa;IAJhB,yCAAW,CAKrB,CAAW,gBAAG,CAAc;IALlB,yCAAW,CAMrB,CAAe,oBAAG,CAAoB;IAN5B,yCAAW,CAOrB,CAAgB,qBAAG,CAAqB;IAP9B,yCAAW,CAQrB,CAAgB,qBAAG,CAAqB;GAR9B,yCAAW,KAAX,yCAAW;;;;MEDV,yCAAO;IAIlB,EAIG,AAJH,0HAIG,AAJH,EAIG,aACS,KAAe,EAAE,SAAiB,CAAE,CAAC;QAT5C,IA6BN,CA5BS,KAAK,GAAa,CAAC,CAAC;QADvB,IA6BN,CA3BS,SAAS,GAAW,CAAC;QAQ3B,IAAI,CAAC,KAAK,GAAG,KAAK;QAClB,IAAI,CAAC,SAAS,GAAG,SAAS;IAC5B,CAAC;IAED,EAGG,AAHH,0DAGG,AAHH,EAGG,CACH,QAAQ,GAAa,CAAC;QACpB,MAAM,CAAC,IAAI,CAAC,KAAK;IACnB,CAAC;IAED,EAGG,AAHH,0DAGG,AAHH,EAGG,CACH,YAAY,GAAW,CAAC;QACtB,MAAM,CAAC,IAAI,CAAC,SAAS;IACvB,CAAC;;;;;;;;;;;;;;;MDpBU,yCAAc;IAazB,EAIG,AAJH,sPAIG,AAJH,EAIG,aACS,IAAY,EAAE,KAAa,CAAE,CAAC;QAlBrC,IAyKN,CAtKS,SAAS,GAAY,IAAI;QAH5B,IAyKN,CArKS,QAAQ,GAAc,CAAC,CAAC;QAe9B,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,KAAK,GAAG,KAAK;QAClB,KAAK,CAAC,IAAI,GAAG,IAAI;QACjB,EAAoB,AAApB,kBAAoB;QACpB,MAAM,CAAC,gBAAgB,CAAC,CAAS,WAAE,KAAK,GAAI,CAAC;YAC3C,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,GACrC,EAAE,EAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,KAAK,CAAY,aACvC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI;QAGjC,CAAC,EAAE,KAAK;IACV,CAAC;IAED,EAGG,AAHH,wFAGG,AAHH,EAGG,CACH,GAAG,CAAC,IAAW,EAAQ,CAAC;QACtB,EAAE,EAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YAClB,EAAE,EAAC,IAAI,CAAC,CAAC,MAAM,CAAI,KACjB,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB;iBAE3C,EAAE,EAAC,IAAI,CAAC,CAAC,MAAM,CAAM,SAAI,IAAI,CAAC,CAAC,MAAM,CAAO,QAAE,CAAC;gBAClD,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1B,EAAE,EAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,0DAAW,CAAC,UAAU,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,0DAAW,CAAC,WAAW,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,0DAAW,CAAC,WAAW,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,0DAAW,CAAC,eAAe,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,0DAAW,CAAC,gBAAgB,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,0DAAW,CAAC,gBAAgB,KAAK,CAAC,EAAE,CAAC;oBACvT,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC,0DAAO,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI,GAAG,OAAO;oBACrD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO;oBAC1B,IAAI,CAAC,KAAK;gBACZ,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAED,EAGG,AAHH,4IAGG,AAHH,EAGG,CACH,UAAU,CAAC,QAAmB,EAAE,CAAC;QAC/B,IAAI,CAAC,gBAAgB,GAAG,QAAQ;IAClC,CAAC;IAED,EAGG,AAHH,yKAGG,AAHH,EAGG,CACH,aAAa,CAAC,QAAmB,EAAE,CAAC;QAClC,IAAI,CAAC,mBAAmB,GAAG,QAAQ;IACrC,CAAC;IAED,EAGG,AAHH,uKAGG,AAHH,EAGG,CACH,YAAY,CAAC,QAAmB,EAAE,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,QAAQ;IACpC,CAAC;IAED,EAGG,AAHH,yKAGG,AAHH,EAGG,CACH,aAAa,CAAC,QAAmB,EAAE,CAAC;QAClC,IAAI,CAAC,mBAAmB,GAAG,QAAQ;IACrC,CAAC;IAED,EAGG,AAHH,qLAGG,AAHH,EAGG,CACH,kBAAkB,CAAC,QAAmB,EAAE,CAAC;QACvC,IAAI,CAAC,wBAAwB,GAAG,QAAQ;IAC1C,CAAC;IAED,EAGG,AAHH,mLAGG,AAHH,EAGG,CACH,iBAAiB,CAAC,QAAmB,EAAE,CAAC;QACtC,IAAI,CAAC,uBAAuB,GAAG,QAAQ;IACzC,CAAC;IAED,EAGG,AAHH,qLAGG,AAHH,EAGG,CACH,kBAAkB,CAAC,QAAmB,EAAE,CAAC;QACvC,IAAI,CAAC,wBAAwB,GAAG,QAAQ;IAC1C,CAAC;IAED,EAEG,AAFH,gDAEG,AAFH,EAEG,CACK,KAAK,GAAS,CAAC;QACrB,EAAmB,AAAnB,iBAAmB;QACnB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC;QAC1C,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS;QAC3C,KAAK,CAAC,gBAAgB,GAAG,WAAW,CAAC,QAAQ;QAC7C,EAAE,EAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACjC,KAAK,CAAC,IAAI,GAAG,gBAAgB,CAAC,CAAC;YAC/B,EAAgE,AAAhE,8DAAgE;YAChE,EAAE,EAAC,IAAI,KAAK,0DAAW,CAAC,WAAW,IAAI,IAAI,KAAK,0DAAW,CAAC,gBAAgB,EAC1E,IAAI,CAAC,IAAI,CAAC,IAAI;iBAEX,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACjC,KAAK,CAAC,aAAa,GAAG,WAAW,CAAC,YAAY;gBAC9C,GAAG,CAAC,CAAC,GAAG,SAAS;gBACjB,GAAG,CAAC,OAAO,GAAmB,IAAI;gBAClC,EAAkD,AAAlD,gDAAkD;uBAC3C,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,IAAI,KAAK,CAAC,CAC1E,EAAE,EAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,YAAY,KAAK,IAAI,CAAC,IAAI,EAC5D,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAG7B,EAAE,EAAC,OAAO,EACR,IAAI,CAAC,IAAI,CAAC,IAAI;YAElB,CAAC;QACH,CAAC;IACH,CAAC;IAED,EAGG,AAHH,oGAGG,AAHH,EAGG,CACK,IAAI,CAAC,IAAY,EAAQ,CAAC;QAChC,OAAO,CAAC,GAAG,CAAC,CAAU,YAAG,IAAI,GAAG,CAAO;QACvC,IAAI,CAAC,SAAS,GAAG,KAAK;QACtB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,UAAU,KAAO,CAAC;YAChB,IAAI,CAAC,SAAS,GAAG,IAAI;QACvB,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI;QACpB,EAAE,EAAC,IAAI,KAAK,0DAAW,CAAC,WAAW,EACjC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB;aAEjD,EAAE,EAAC,IAAI,KAAK,0DAAW,CAAC,UAAU,EACrC,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB;aAE/C,EAAE,EAAC,IAAI,KAAK,0DAAW,CAAC,WAAW,EACtC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB;aAEjD,EAAE,EAAC,IAAI,KAAK,0DAAW,CAAC,gBAAgB,EAC3C,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,wBAAwB;aAE3D,EAAE,EAAC,IAAI,KAAK,0DAAW,CAAC,eAAe,EAC1C,IAAI,CAAC,uBAAuB,IAAI,IAAI,CAAC,uBAAuB;aAEzD,EAAE,EAAC,IAAI,KAAK,0DAAW,CAAC,gBAAgB,EAC3C,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,wBAAwB;IAElE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MGjLU,yCAAiB;IAI5B,EAIG,AAJH,4GAIG,AAJH,EAIG,aACS,SAA4C,EAAE,QAA+B,CAAE,CAAC;QAC1F,IAAI,CAAC,SAAS,GAAG,SAAS;QAC1B,IAAI,CAAC,QAAQ,GAAG,QAAQ;IAC1B,CAAC;IAED,EAIG,AAJH,wEAIG,AAJH,EAIG,CACF,KAAK,CAAC,IAAY,EAAE,IAAS,EAAQ,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI;IACzC,CAAC;IAED,EAGG,AAHH,4CAGG,AAHH,EAGG,CACH,IAAI,CAAC,IAAY,EAAO,CAAC;QACxB,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI;QAC7C,MAAM,CAAC,OAAO;IACf,CAAC;;;;;;;;;;;;;;;MC9BS,yCAAY;IACvB,EAIG,AAJH,2EAIG,AAJH,EAIG,CACH,KAAK,CAAC,IAAY,EAAE,OAAY,EAAQ,CAAC;QACvC,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO;IACnD,CAAC;IACD,EAIG,AAJH,2FAIG,AAJH,EAIG,CACH,IAAI,CAAC,IAAY,EAAO,CAAC;QACvB,KAAK,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI;QACzC,EAAE,EAAC,OAAO,EACR,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO;QAE3B,MAAM,CAAC,IAAI;IACb,CAAC;;;;;;;;;;;;MCnBU,yCAAM;WACV,UAAU,GAAG,CAAC;QACnB,EAAa,AAAb,WAAa;QACb,MAAM,GAAG,MAAM,CAAC,QAAQ;IAC1B,CAAC;WAEM,SAAS,CAAC,IAAY,EAAE,IAAS,EAAE,CAAC;QACzC,EAAa,AAAb,WAAa;QACb,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI;IACtD,CAAC;WAEM,QAAQ,CAAC,IAAY,EAAE,CAAC;QAC7B,EAAa,AAAb,WAAa;QACb,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI;IAC/C,CAAC;WAEM,YAAY,CAAC,GAAW,EAAE,IAAY,EAAE,QAAmC,EAAE,OAA6B,EAAE,SAAiC,EAAE,CAAC;QACrJ,EAAa,AAAb,WAAa;QACb,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,YAAY,IAAI,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS;IACjH,CAAC;WAEM,YAAY,GAAG,CAAC;QACrB,EAAa,AAAb,WAAa;QACb,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK;IACvC,CAAC;WAEM,aAAa,GAAG,CAAC;QACtB,EAAa,AAAb,WAAa;QACb,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,MAAM;IACxC,CAAC;WAEM,QAAQ,CAAC,OAAe,EAAE,IAAY,EAAE,CAAC;QAC9C,EAAY,AAAZ,UAAY;QACZ,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI;IACjD,CAAC;;;;;MHzBU,yCAAQ;IAInB,EAEG,AAFH,uDAEG,AAFH,EAEG,cACW,CAAC;QAPV,IAkFN,CAjFS,QAAQ,GAA4B,CAAC;QAAA,CAAC;QAO5C,EAAE,EAAC,0DAAM,CAAC,UAAU,IAClB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,0DAAiB,CAAC,0DAAM,CAAC,SAAS,EAAE,0DAAM,CAAC,QAAQ;aAGtE,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,0DAAY;IAEnC,CAAC;IAED,EAcG,AAdH,+WAcG,AAdH,EAcG,CACH,QAAQ,CAAC,IAAY,EAAE,GAAW,EAAE,KAAU,EAAE,CAAC;QAC/C,EAAE,EAAC,IAAI,KAAK,CAAQ,SAAE,CAAC;YACrB,OAAO,CAAC,KAAK,CAAC,wDAAO,CAAC,oBAAoB;YAC1C,MAAM;QACR,CAAC;QACD,EAAc,AAAd,YAAc;QACd,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI;QAClC,EAAE,GAAE,OAAO,EACT,OAAO,GAAG,CAAC;QAAA,CAAC;QAEd,OAAO,CAAC,GAAG,IAAI,KAAK;QACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO;IAClC,CAAC;IAED,EAWG,AAXH,gVAWG,AAXH,EAWG,CACH,QAAQ,CAAC,IAAY,EAAE,GAAW,EAAO,CAAC;QACxC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI;QACpC,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,IAAI,IAAI;IACtC,CAAC;IAED,EAIG,AAJH,uJAIG,AAJH,EAIG,CACK,UAAU,CAAC,IAAY,EAAO,CAAC;QACrC,EAA0B,AAA1B,wBAA0B;QAC1B,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,GACnB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI;aAGzB,EAA2B,AAA3B,yBAA2B;QAC3B,GAAG,CAAC,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI;QAC/B,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC;YACf,EAA6B,AAA7B,2BAA6B;YAC7B,MAAM,CAAC,IAAI;QACb,CAAC;IAEL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UK7FS,yCAAW;IAAX,yCAAW,CACrB,CAAM,WAAG,CAAa;IADZ,yCAAW,CAErB,CAAM,WAAG,CAAa;IAFZ,yCAAW,CAGrB,CAAI,SAAG,CAAa;IAHV,yCAAW,CAIrB,CAAM,WAAG,CAAqB;IAJpB,yCAAW,CAKrB,CAAI,SAAG,CAAY;GALT,yCAAW,KAAX,yCAAW;;;;MCEjB,gCAAU;gBASF,EAAU,EAAE,OAAe,GAAG,CAAE,EAAE,CAAC;QAC7C,IAAI,CAAC,EAAE,GAAG,EAAE;QACZ,IAAI,CAAC,OAAO,GAAG,OAAO;IACxB,CAAC;IAED,MAAM,CAAC,CAAS,EAAE,CAAS,EAAE,KAAa,EAAE,MAAc,EAAE,QAAgB,GAAG,CAAC,EAAE,SAAiB,GAAG,IAAI,EAAE,SAAiB,GAAG,IAAI,EAAE,SAAiB,GAAG,CAAC,EAAE,CAAC;QAC5J,IAAI,CAAC,IAAI,GAAG,CAAC;eAAC,CAAC;eAAE,CAAC;mBAAE,KAAK;oBAAE,MAAM;QAAC,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,QAAQ;QACxB,IAAI,CAAC,SAAS,GAAG,SAAS;QAC1B,EAAE,EAAC,SAAS,KAAK,IAAI,IAAI,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,EAAC,CAAC;YAC3F,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,CAAC,MACG,CAAC;YACH,IAAI,CAAC,SAAS,GAAG,SAAS;YAC1B,IAAI,CAAC,SAAS,GAAG,SAAS;QAC5B,CAAC;IACH,CAAC;IAED,GAAG,GAAG,CAAC;QACL,MAAM,CAAC,CAAC;YACN,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,SAAS,EAAE,IAAI,CAAC,SAAS;QAC3B,CAAC;IACH,CAAC;;IAGH,wCAA0B,GAAX,gCAAU;;;MCzCnB,kCAAY;gBAMJ,EAAU,CAAE,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,EAAE;IACd,CAAC;IAED,MAAM,CAAC,QAAc,EAAE,SAAe,EAAE,KAAa,EAAE,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK;QACpC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM;QACtC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;QAC9B,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;QAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK;QACtC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM;QACxC,IAAI,CAAC,KAAK,GAAG,KAAK;IACpB,CAAC;IAED,GAAG,GAAG,CAAC;QACL,MAAM,CAAC,CAAC;YACN,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,KAAK,EAAE,IAAI,CAAC,KAAK;QACnB,CAAC;IACH,CAAC;;IAGH,wCAA4B,GAAb,kCAAY;;;AH7B3B,KAAK,CAAC,iCAAW,GAAG,CAAO;AAC3B,KAAK,CAAC,kCAAY,GAAG,CAAQ;MAEhB,yCAAK;gBAeJ,IAAY,EAAE,KAAa,EAAE,MAAc,EAAE,KAAa,EAAE,QAAkB,EAAE,WAAqD,EAAE,aAAiC,EAAE,cAAiC,CAAE,CAAC;QAfrN,IAkUN,CA5TS,KAAK,GAAqB,GAAG,CAAC,GAAG;QANpC,IAkUN,CA3TS,YAAY,GAAY,KAAK;QAPhC,IAkUN,CA1TS,sBAAsB,GAAY,IAAI;QARzC,IAkUN,CAzTS,kBAAkB,GAAY,KAAK;QATtC,IAkUN,CAxTS,kBAAkB,GAAG,IAAI;QAV5B,IAkUN,CAvTS,kBAAkB,GAAW,CAAC;QAXjC,IAkUN,CArTS,KAAK,GAAW,CAAC;QAGvB,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,UAAU,GAAG,CAAC;YAAC,CAAC,EAAE,CAAC;YAAE,CAAC,EAAE,CAAC;YAAE,KAAK,EAAE,KAAK;YAAE,MAAM,EAAE,MAAM;QAAC,CAAC;QAC9D,IAAI,CAAC,KAAK,GAAG,KAAK;QAClB,IAAI,CAAC,gBAAgB,GAAG,QAAQ;QAChC,IAAI,CAAC,mBAAmB,GAAG,WAAW;QACtC,IAAI,CAAC,qBAAqB,GAAG,aAAa;QAC1C,IAAI,CAAC,sBAAsB,GAAG,cAAc;IAC9C,CAAC;IAED,QAAQ,GAAG,CAAC;QACV,MAAM,CAAC,IAAI,CAAC,KAAK;IACnB,CAAC;IAED,QAAQ,CAAC,KAAa,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,KAAK;IACpB,CAAC;IAED,aAAa,CAAC,CAAS,EAAE,CAAS,EAAE,KAAa,EAAE,MAAc,EAAE,CAAC;QAClE,IAAI,CAAC,UAAU,GAAG,CAAC;YAAC,CAAC,EAAE,CAAC;YAAE,CAAC,EAAE,CAAC;YAAE,KAAK,EAAE,KAAK;YAAE,MAAM,EAAE,MAAM;QAAC,CAAC;IAChE,CAAC;IAED,eAAe,CAAC,OAAgB,EAAE,UAAuB,EAAE,CAAC;QAC1D,IAAI,CAAC,YAAY,GAAG,OAAO;QAC3B,EAAE,EAAC,UAAU,KAAK,IAAI,EACpB,MAAM;QAER,KAAK,CAAC,CAAC,IAAI,GAAQ,GAAK,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,iCAAW,EAAE,GAAG,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAE;QAClI,CAAC;QACD,EAAE,EAAC,OAAO,EACR,UAAU,CAAC,gBAAgB,CAAC,CAAW,YAAE,CAAC,EAAE,KAAK;aAE9C,CAAC;YACJ,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACxB,UAAU,CAAC,mBAAmB,CAAC,CAAW,YAAE,CAAC,EAAE,KAAK;QACtD,CAAC;IACH,CAAC;IAED,iBAAiB,CAAC,OAAgB,EAAE,CAAC;QACnC,IAAI,CAAC,kBAAkB,GAAG,OAAO;QACjC,EAAE,EAAC,IAAI,CAAC,kBAAkB,KAAK,IAAI,EAAC,CAAC;YACnC,YAAY,CAAC,IAAI,CAAC,kBAAkB;YACpC,IAAI,CAAC,kBAAkB,GAAG,IAAI;QAChC,CAAC;QACD,IAAI,CAAC,kBAAkB,GAAG,CAAC;QAC3B,OAAO,IAAI,IAAI,CAAC,gBAAgB;IAClC,CAAC;IAED,cAAc,GAAG,CAAC;QAChB,MAAM,CAAC,IAAI,CAAC,YAAY;IAC1B,CAAC;IAED,qBAAqB,GAAG,CAAC;QACvB,MAAM,CAAC,IAAI,CAAC,kBAAkB;IAChC,CAAC;IAED,SAAS,GAAG,CAAC;QACX,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;IAC1B,CAAC;IAED,MAAM,GAAG,CAAC;QACR,EAAE,EAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC3B,GAAG,CAAC,WAAW,GAAG,CAAC,CAAC;YACpB,GAAG,EAAC,GAAG,EAAE,EAAE,EAAE,IAAI,KAAK,IAAI,CAAC,KAAK,CAC9B,EAAE,EAAC,EAAE,CAAC,QAAQ,CAAC,kCAAY;gBACzB,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC,IAAI,GAAE,CAAC;oBAC5B,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG;oBAClB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS;gBACvF,CAAC,MACG,CAAC;oBACH,IAAI,CAAC,qBAAqB,CAAC,EAAE;oBAC7B,WAAW,CAAC,IAAI,CAAC,EAAE;gBACrB,CAAC;;YAGL,GAAG,EAAC,GAAG,CAAC,GAAE,IAAI,WAAW,CACvB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAE;QAExB,CAAC;IACH,CAAC;IAED,YAAY,CAAC,IAAS,EAAE,CAAC;QACvB,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC;YACjB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI;YACvB,EAAE,EAAC,IAAI,IAAI,SAAS,EAClB,QAAQ;YAEV,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,EAAE,OAAO;YAC7B,EAAE,EAAC,OAAO,KAAK,IAAI,CAAC,IAAI,EACtB,QAAQ;YAEV,MAAM,CAAC,IAAI,CAAC,CAAC;gBACX,IAAI,CAAC,CAAM;oBACT,EAAE,EAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAChB,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;oBAEnE,KAAK;gBACP,IAAI,CAAC,CAAK;oBACR,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI;oBACzD,EAAE,EAAC,QAAQ,IAAI,IAAI,EACjB,QAAQ;oBAEV,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,QAAQ;oBACzC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB;oBAC9C,KAAK;gBAEP,IAAI,CAAC,CAAO;oBACV,IAAI,CAAC,gBAAgB,CAAC,IAAI;oBAC1B,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB;oBAC9C,KAAK;;oBAEP,KAAK;;QAET,CAAC;IACH,CAAC;IAEO,aAAa,CAAC,OAAe,EAAE,IAAW,EAAE,CAAC;QACnD,EAAE,EAAC,OAAO,KAAK,yCAAW,CAAC,IAAI,EAC7B,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,IAAI;QAEjD,GAAG,CAAC,QAAQ,GAAQ,CAAC;QAAA,CAAC;QACtB,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ;QAC9B,MAAM,CAAC,OAAO;YACZ,IAAI,CAAC,yCAAW,CAAC,IAAI;gBACnB,EAAE,GAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,EAAE,GACnC,MAAM,CAAC,IAAI;gBAEb,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBAC1B,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;gBACvB,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;gBACxB,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;gBAC3B,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;gBAC3B,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE;gBAC5B,KAAK;YACP,IAAI,CAAC,yCAAW,CAAC,MAAM;gBACrB,EAAE,GAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,EAAE,GACnC,MAAM,CAAC,IAAI;gBAEb,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;gBACzB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBAC1B,KAAK;YACP,IAAI,CAAC,yCAAW,CAAC,MAAM;gBACrB,EAAE,GAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC,GAClC,MAAM,CAAC,IAAI;gBAEb,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK;gBAC3C,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK;gBAChC,KAAK;YACP,IAAI,CAAC,yCAAW,CAAC,MAAM;gBACrB,OAAO,CAAC,GAAG,CAAC,CAAW;gBACvB,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;gBACzB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBAC1B,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,KAAK;;QAET,GAAG,CAAC,SAAS,GAAG,QAAQ;QACxB,QAAQ,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACpE,QAAQ,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACrE,QAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;QACpD,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK;QACtD,MAAM,CAAC,QAAQ;IACjB,CAAC;IAEO,qBAAqB,CAAC,OAAe,EAAE,IAAW,EAAE,CAAC;QAC3D,EAAE,EAAC,OAAO,KAAK,yCAAW,CAAC,IAAI,EAAE,CAAC;YAChC,OAAO,CAAC,GAAG,CAAC,CAA0B,4BAAG,yCAAW,CAAC,IAAI,GAAG,CAAW,aAAG,OAAO;YACjF,MAAM,CAAC,IAAI;QACb,CAAC;QACD,GAAG,CAAC,QAAQ,GAAQ,CAAC;QAAA,CAAC;QACtB,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ;QAC9B,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;QACpB,QAAQ,CAAC,QAAQ,GAAG,CAAC;YACnB,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,KAAK,EAAE,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;YACjD,MAAM,EAAE,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK;QACrD,CAAC;QACD,QAAQ,CAAC,SAAS,GAAG,CAAC;YACpB,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,KAAK,EAAE,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;YACjD,MAAM,EAAE,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK;QACrD,CAAC;QACD,QAAQ,CAAC,KAAK,GAAG,KAAK;QACtB,EAAE,EAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC;YACnD,QAAQ,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;YACrF,QAAQ,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACxF,CAAC;QACD,EAAE,EAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC;YACpD,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;YACvF,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1F,CAAC;QACD,MAAM,CAAC,QAAQ;IACjB,CAAC;IAEO,uBAAuB,CAAC,KAAW,EAAE,CAAC;QAC5C,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC;IACrC,CAAC;IAEO,mBAAmB,CAAC,IAAW,EAAE,MAAc,EAAE,CAAC;QACxD,EAAE,EAAC,IAAI,CAAC,MAAM,KAAK,MAAM,EAAC,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,CAAiD,mDAAG,MAAM,GAAG,CAAkB,oBAAG,IAAI,CAAC,MAAM;YACzG,MAAM,CAAC,KAAK;QACd,CAAC;QACD,MAAM,CAAC,IAAI;IACb,CAAC;IAEO,kBAAkB,CAAC,IAAY,EAAE,QAAa,EAAE,CAAC;QACvD,MAAM,CAAC,IAAI;YACT,IAAI,CAAC,yCAAW,CAAC,IAAI;gBACnB,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;gBACpB,EAAE,GAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC;oBACvB,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,wCAAY,CAAC,EAAE;oBAChC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI;oBACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,KAAK;oBACjE,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;gBAC/D,CAAC,MACI,CAAC;oBACJ,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;oBAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,KAAK;gBACnE,CAAC;gBACD,KAAK;;gBAEL,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO;;IAE3L,CAAC;IAEO,UAAU,CAAC,EAAU,EAAE,CAAS,EAAE,CAAS,EAAE,KAAa,EAAE,MAAc,EAAE,QAAgB,EAAE,SAAiB,EAAE,SAAiB,EAAE,SAAiB,GAAG,CAAC,EAAE,OAAe,GAAG,CAAE,GAAE,CAAC;QACxL,EAAE,GAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC;YACvB,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,wCAAU,CAAC,EAAE,EAAE,OAAO;YACvC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI;YACvB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;YAC1E,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;QAC/D,CAAC,MACI,CAAC;YACJ,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YAC9B,GAAG,CAAC,aAAa,GAAG,SAAS;YAC7B,EAAE,EAAC,IAAI,CAAC,sBAAsB,IAAI,aAAa,IAAI,CAAC,EAClD,aAAa,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI;YAEvC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa;QAChF,CAAC;QACD,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB;IAChD,CAAC;IAEO,gBAAgB,CAAC,QAAe,EAAE,CAAC;QACzC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC;QACtB,EAAE,GAAE,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EACnC,IAAI,CAAC,KAAK,CAAC,KAAK;aAEb,CAAC;YACJ,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,KAAK,IAAI,CAAC,KAAK,CAAE,CAAC;gBAClC,GAAG,CAAC,OAAO,GAAG,KAAK;gBACnB,GAAG,EAAC,GAAG,CAAC,SAAS,IAAI,QAAQ,CAAE,CAAC;oBAC9B,OAAO,GAAG,SAAS,KAAK,EAAE;oBAC1B,EAAE,EAAE,OAAO,EACT,KAAK;gBAET,CAAC;gBACD,EAAE,GAAE,OAAO,EAAE,CAAC;oBACZ,IAAI,CAAC,qBAAqB,IAAI,IAAI,CAAC,qBAAqB,CAAC,EAAE;oBAC3D,WAAW,CAAC,IAAI,CAAC,EAAE;gBACrB,CAAC;YACH,CAAC;YACD,GAAG,EAAC,GAAG,CAAC,GAAE,IAAI,WAAW,CACvB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAE;QAExB,CAAC;IACH,CAAC;IAED,EAAoC,AAApC,kCAAoC;IACpC,EAAuI,AAAvI,qIAAuI;IACvI,EAAI,AAAJ,EAAI;IAEI,gBAAgB,GAAG,CAAC;QAC1B,EAAE,GAAE,IAAI,CAAC,kBAAkB,EACzB,MAAM;QAER,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,MAAM,GAAG;QAC5C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,EAAE;QAC1C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,EAAE;QAC1C,KAAK,CAAC,OAAO,GAAG,eAAe,GAAG,CAAC,GAAG,GAAG;QACzC,KAAK,CAAC,OAAO,GAAG,eAAe,GAAG,GAAG,GAAG,CAAC;QACzC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,GAAG,OAAO,IAAI,IAAI;QACtD,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,GAAG,OAAO,IAAI,IAAI;QACtD,KAAK,CAAC,CAAC,GAAG,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,GAAI,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACtK,KAAK,CAAC,CAAC,GAAG,eAAe,GAAI,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,GAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC;QACzK,IAAI,CAAC,UAAU,CAAC,CAAS,WAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS;QAC1F,IAAI,CAAC,kBAAkB;QACvB,IAAI,CAAC,kBAAkB,GAAG,UAAU,KAAO,CAAC;YAC1C,IAAI,CAAC,gBAAgB;QACvB,CAAC,EAAE,IAAI,CAAC,MAAM,KAAK,IAAI,GAAG,IAAI;IAChC,CAAC;IAEO,cAAc,CAAC,IAAU,EAAE,CAAC;QAClC,MAAM,GAAG,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;IACrN,CAAC;;;;;MIjUU,wCAAW;IAGtB,EAEG,AAFH,0DAEG,AAFH,EAEG,cACW,CAAC;QANV,IA4BN,CA3BS,MAAM,GAA2B,GAAG,CAAC,GAAG;QAM9C,KAAK,CAAC,IAAI,GAAG,IAAI;QACjB,EAAoB,AAApB,kBAAoB;QACpB,MAAM,CAAC,gBAAgB,CAAC,CAAS,WAAE,KAAK,GAAI,CAAC;YAC3C,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,GAAI,CAAC;gBAC1C,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO;gBAC/B,EAAE,EAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;oBACtB,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;oBAClC,QAAQ;gBACV,CAAC;YACH,CAAC;QACH,CAAC,EAAE,KAAK;IACV,CAAC;IAED,EAIG,AAJH,2KAIG,AAJH,EAIG,CACH,GAAG,CAAC,KAAa,EAAE,QAAmB,EAAE,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ;IACjC,CAAC;;;;;;;;;;;ACzBI,KAAK,CAAC,yCAAY,OAAc,CAAC;IACtC,MAAM,CAAC,yCAAM,CAAC,YAAY;AAC5B,CAAC;AAUO,KAAK,CAAC,yCAAa,OAAc,CAAC;IACxC,MAAM,CAAC,yCAAM,CAAC,aAAa;AAC7B,CAAC;;;;ACbM,KAAK,CAAC,yCAAQ,IAAI,OAAe,EAAE,IAAY,GAAU,CAAC;IAC/D,MAAM,CAAC,yCAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI;AACtC,CAAC;;;;ACDM,KAAK,CAAC,wCAAY,IAAI,GAAW,EAAE,IAAY,EAAE,QAAmC,GAAsB,CAAC;IAChH,MAAM,CAAC,GAAG,CAAC,OAAO,EAAU,OAAO,EAAE,MAAM,GAAK,CAAC;QAC/C,yCAAM,CAAC,UAAU,KAAK,yCAAM,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,GAAG,KAAU,GAAK,MAAM,CAAC,KAAK;WAAI,IAAY,GAAK,OAAO,CAAC,IAAI;YAAK,OAAO,CAAC,GAAG;IAC9I,CAAC;AACH,CAAC;;;;;AvBbD,KAAK,CAAC,2BAAK,GAAG,CAAC;IACb,KAAK,EAAE,CAAC;QACN,mBAAmB,EAAE,yCAAmB;QACxC,WAAW,EAAE,yCAAW;QACxB,WAAW,EAAE,yCAAW;QACxB,WAAW,EAAE,yCAAW;QACxB,iBAAiB,EAAE,yCAAiB;QACpC,SAAS,EAAE,yCAAS;QACpB,WAAW,EAAE,yCAAW;QACxB,WAAW,EAAE,yCAAW;QACxB,QAAQ,EAAE,yCAAQ;IACpB,CAAC;IACD,WAAW,EAAE,CAAC;QACZ,KAAK,EAAE,yCAAK;QACZ,WAAW,EAAE,yCAAW;QACxB,QAAQ,EAAE,yCAAQ;QAClB,cAAc,EAAE,yCAAc;QAC9B,WAAW,EAAE,yCAAW;QACxB,WAAW,EAAE,wCAAW;QACxB,YAAY,EAAE,yCAAY;QAC1B,aAAa,EAAE,yCAAa;QAC5B,QAAQ,EAAE,yCAAQ;QAClB,YAAY,EAAE,wCAAY;IAC5B,CAAC;AACH,CAAC;IAED,wCAAqB,GAAN,2BAAK","sources":["src/index.ts","src/modules/media/Media.module.ts","src/modules/media/Context.ts","src/modules/media/Stream.ts","src/Message.ts","src/modules/media/Blob.ts","src/modules/media/Composition.ts","src/modules/media/Recorder.ts","src/modules/mediaPlayer/MediaPlayer.module.ts","src/modules/mediaPlayer/gesture/GestureType.ts","src/modules/mediaPlayer/gesture/GestureHandler.ts","src/modules/mediaPlayer/gesture/Gesture.ts","src/modules/mediaPlayer/keyValue/KeyValue.ts","src/modules/mediaPlayer/keyValue/FileSystemStorage.ts","src/modules/mediaPlayer/keyValue/LocalStorage.ts","src/modules/mediaPlayer/Window.ts","src/modules/mediaPlayer/blobs/Blobs.ts","src/modules/mediaPlayer/blobs/AddressType.ts","src/modules/mediaPlayer/blobs/SingleBlob.ts","src/modules/mediaPlayer/blobs/SkeletonBlob.ts","src/modules/mediaPlayer/OscListener.ts","src/modules/mediaPlayer/Info.ts","src/modules/mediaPlayer/Log.ts","src/modules/mediaPlayer/File.ts"],"sourcesContent":["import { getAvailableDevices, getDeviceId, startDevice, drawElement, drawVideo, blobToImage, Composition, Recorder, drawPartOfElement } from './modules/media/Media.module';\r\nimport { Blobs, AddressType, KeyValue, GestureHandler, GestureType, OscListener, getMediaInfo, getDeviceInfo, logAlarm, downloadFile } from './modules/mediaPlayer/MediaPlayer.module';\r\n\r\nconst broox = {\r\n  media: {\r\n    getAvailableDevices: getAvailableDevices,\r\n    getDeviceId: getDeviceId,\r\n    startDevice: startDevice,\r\n    drawElement: drawElement,\r\n    drawPartOfElement: drawPartOfElement,\r\n    drawVideo: drawVideo,\r\n    blobToImage: blobToImage,\r\n    Composition: Composition,\r\n    Recorder: Recorder\r\n  },\r\n  mediaPlayer: {\r\n    Blobs: Blobs,\r\n    AddressType: AddressType,\r\n    KeyValue: KeyValue,\r\n    GestureHandler: GestureHandler,\r\n    GestureType: GestureType,\r\n    OscListener: OscListener,\r\n    getMediaInfo: getMediaInfo,\r\n    getDeviceInfo: getDeviceInfo,\r\n    logAlarm: logAlarm,\r\n    downloadFile: downloadFile\r\n  }\r\n};\r\n\r\nexport default broox;","/**\r\n * Provides classes and functions related to the rendering process of different media.\r\n *\r\n * #### {@link Composition}\r\n *\r\n * Allows to create an image based on many media objects (images, videos, etc.).\r\n *\r\n * ``` typescript\r\n * // example\r\n * const composition = new broox.media.Composition(width, height, borderWidth);\r\n * composition.addElement(webcam, 0, 0, webcam.videoWidth, webcam.videoHeight, 1, false);\r\n * composition.get().then(blob => {\r\n *    image.src = URL.createObjectURL(blob);\r\n * )};\r\n * ```\r\n * <br/>\r\n * Allows to record a stream.\r\n *\r\n * ``` typescript\r\n * // example\r\n * const recorder = new broox.media.Recorder(stream);\r\n * recorder.start();\r\n * setTimeout(() => {\r\n *   recorder.stop().then(blob => {\r\n *     console.log(blob);\r\n *   )};\r\n * }, 10000);\r\n * ```\r\n * <br/>\r\n *\r\n * #### Functions\r\n * - {@link getAvailableDevices}\r\n *   <br/>\r\n *   Gets navigator media devices.\r\n * - {@link getDeviceId}\r\n *   <br/>\r\n *   Gets navigator device id.\r\n * - {@link startDevice}\r\n *   <br/>\r\n *   Starts a given device (user media).\r\n * - {@link drawElement}\r\n *   <br/>\r\n *   Renders an element in a given 2d context.\r\n * - {@link drawPartOfElement}\r\n *   <br/>\r\n *   Renders a part of an element in a given 2d context.\r\n * - {@link drawVideo}\r\n *   <br/>\r\n *   Renders a video in a given 2d context.\r\n* - {@link blobToImage}\r\n *   <br/>\r\n *   Converts a blob to an image.\r\n * \r\n * @module media\r\n */\r\nexport { drawElement, drawPartOfElement, drawVideo } from './Context';\r\nexport { getAvailableDevices, getDeviceId, startDevice } from './Stream';\r\nexport { blobToImage } from './Blob';\r\nexport { Composition } from './Composition';\r\nexport { Recorder } from './Recorder';","/**\r\n * Renders a video element in the given 2d context.\r\n * @param video Video to draw in context.\r\n * @param context 2d context.\r\n * @param destinationWidth Destination width.\r\n * @param destinationHeight Destination height.\r\n * @param destinationX Destination x position.\r\n * @param destinationY Destination y position.\r\n * @param mirror Value indicating whether to mirror the image before.\r\n * ``` typescript\r\n * // example\r\n * const canvas = document.createElement('canvas');\r\n * canvas.width = width;\r\n * canvas.height = height;\r\n * const context = canvas.getContext('2d');\r\n * const video = document.getElementById('video')\r\n * broox.media.drawElement(video, context, width, height, 0, 0, false);\r\n * ```\r\n */\r\nexport const drawVideo = (video: HTMLVideoElement, context: CanvasRenderingContext2D, destinationWidth: number, destinationHeight: number, destinationX: number, destinationY: number, mirror = false) => {\r\n  drawElement(video, context, video.videoWidth, video.videoHeight, destinationWidth, destinationHeight, destinationX, destinationY, mirror);\r\n}\r\n\r\n/**\r\n * Renders an element in the given 2d context.\r\n * @param element Element to draw in context.\r\n * @param context 2d context.\r\n * @param sourceWidth Source width.\r\n * @param sourceHeight Source height.\r\n * @param destinationWidth Destination width.\r\n * @param destinationHeight Destination height.\r\n * @param destinationX Destination x position.\r\n * @param destinationY Destination y position.\r\n * @param mirror Value indicating whether to mirror the image before.\r\n * ``` typescript\r\n * // example\r\n * const canvas = document.createElement('canvas');\r\n * canvas.width = width;\r\n * canvas.height = height;\r\n * const context = canvas.getContext('2d');\r\n * const element = document.getElementById('img')\r\n * broox.media.drawElement(element, context, element.width, element.height, width, height, 0, 0, false);\r\n * ```\r\n */\r\nexport const drawElement = (element: CanvasImageSource, context: CanvasRenderingContext2D, sourceWidth: number, sourceHeight: number, destinationWidth: number, destinationHeight: number, destinationX: number, destinationY: number, mirror = false) => {\r\n  drawPartOfElement(element, context, false, sourceWidth, sourceHeight, 0, 0, destinationWidth, destinationHeight, destinationX, destinationY, mirror);\r\n}\r\n\r\n/**\r\n * Renders an element in the given 2d context.\r\n * @param element Element to draw in context.\r\n * @param context 2d context.\r\n * @param sourceWidth Source width.\r\n * @param sourceHeight Source height.\r\n * @param sourceX Source x position.\r\n * @param sourceY Source y position.\r\n * @param destinationWidth Destination width.\r\n * @param destinationHeight Destination height.\r\n * @param destinationX Destination x position.\r\n * @param destinationY Destination y position.\r\n * @param mirror Value indicating whether to mirror the image before.\r\n * ``` typescript\r\n * // example\r\n * const canvas = document.createElement('canvas');\r\n * canvas.width = width;\r\n * canvas.height = height;\r\n * const context = canvas.getContext('2d');\r\n * const element = document.getElementById('img')\r\n * broox.media.drawPartOfElement(element, context, false, element.width, element.height, 0, 0, width, height, 0, 0, false);\r\n * ```\r\n */\r\n export const drawPartOfElement = (element: CanvasImageSource, context: CanvasRenderingContext2D, cutToScale: boolean, sourceWidth: number, sourceHeight: number, sourceX: number, sourceY: number, destinationWidth: number, destinationHeight: number, destinationX: number, destinationY: number, mirror = false) => {\r\n  // get ratios\r\n  const horizontalRatio = Math.round((destinationWidth / sourceWidth) * 100) / 100;\r\n  const verticalRatio = Math.round((destinationHeight / sourceHeight) * 100) / 100;\r\n  let height = 0;\r\n  let width = 0;\r\n  let leftOffset = 0;\r\n  let topOffset = 0;\r\n  // take center of element vertically or horizontally depending on ratio\r\n  if(verticalRatio === horizontalRatio) {\r\n    width = sourceWidth;\r\n    height = sourceHeight;\r\n    leftOffset = 0;\r\n    topOffset = 0;\r\n  }\r\n  else if((verticalRatio > horizontalRatio && cutToScale) || (verticalRatio < horizontalRatio && !cutToScale)) {\r\n    height = sourceHeight;\r\n    width = destinationWidth / verticalRatio;\r\n    leftOffset = (sourceWidth - width) / 2;\r\n  }\r\n  else {\r\n    width = sourceWidth;\r\n    height = destinationHeight / horizontalRatio;\r\n    topOffset = (sourceHeight - height) / 2;\r\n  }\r\n  if(mirror) {\r\n    context.scale(-1, 1);\r\n    context.drawImage(element, sourceX + leftOffset, sourceY + topOffset, width, height, -destinationX, destinationY, -destinationWidth, destinationHeight);\r\n  }\r\n  else {\r\n    context.drawImage(element, sourceX + leftOffset, sourceY + topOffset, width, height, destinationX, destinationY, destinationWidth, destinationHeight);\r\n  }\r\n}","import Message from '../../Message';\r\n\r\n/**\r\n * Gets all available devices.\r\n * @returns Promise with list of available devices.\r\n * ``` typescript\r\n * // example\r\n * broox.media.getAvailableDevices().then(devices => {});\r\n * ```\r\n */\r\nexport const getAvailableDevices = (): Promise<any[]> => {\r\n  return new Promise((resolve, reject) => {\r\n    navigator.mediaDevices.enumerateDevices()\r\n      .then(devices => {\r\n        const result = devices.map(d => {\r\n          return {\r\n            id: d.deviceId,\r\n            name: d.label\r\n          }\r\n        });\r\n        resolve(result);\r\n      })\r\n      .catch(error => {\r\n        reject(error.message);\r\n      })\r\n  });\r\n}\r\n\r\n/**\r\n * Gets the id for the given device name.\r\n * @param name Device name.\r\n * @returns Promise with device id if found. Error otherwise.\r\n * ``` typescript\r\n * // example\r\n * broox.media.getDeviceId('OBS Virtual Camera').then(id => {\r\n *   broox.media.start(id, 1080, 1920).then(stream => {});\r\n * });\r\n * ```\r\n */\r\nexport const getDeviceId = (name: string): Promise<string> => {\r\n  return new Promise((resolve, reject) => {\r\n    navigator.mediaDevices.enumerateDevices()\r\n      .then(devices => {\r\n        for(let i = 0; i < devices.length; i++) {\r\n          if(devices[i].label === name) {\r\n            resolve(devices[i].deviceId);\r\n            return;\r\n          }\r\n        }\r\n        reject(Message.deviceNotFound);\r\n      })\r\n      .catch(error => {\r\n        reject(error.message);\r\n      })\r\n  });\r\n}\r\n\r\n/**\r\n * Starts the media stream.\r\n * @param deviceId Webcam identifier.\r\n * @param width Webcam width.\r\n * @param height Webcam height.\r\n * @returns MediaStream object to display webcam content.\r\n * ``` typescript\r\n * // example\r\n * broox.media.getDeviceId('OBS Virtual Camera').then(id => {\r\n *   broox.media.start(id, 1080, 1920).then(stream => {});\r\n * });\r\n * ```\r\n */\r\nexport const startDevice = (deviceId: string, width: number, height: number): Promise<MediaStream> => {\r\n  return navigator.mediaDevices.getUserMedia({ video: { deviceId: deviceId, width: width, height: height }});\r\n}","enum Message {\r\n  deviceNotFound = 'Device not found',\r\n  forbiddenProjectName = 'Please use a different project name'\r\n}\r\n\r\nexport default Message;","/**\r\n * Converts a blob to an image.\r\n * @returns Promise with the resulting image.\r\n * ``` typescript\r\n * // example\r\n * broox.media.blobToImage(blobg).then(image => {});\r\n * ```\r\n */\r\n export const blobToImage = (blob: Blob) => {\r\n  return new Promise((resolve) => {\r\n    const image = new Image();\r\n    image.onload = () => {\r\n      URL.revokeObjectURL(image.src);\r\n      resolve(image);\r\n    }\r\n    image.src = URL.createObjectURL(blob);\r\n  });\r\n}","import { drawElement } from './Context';\r\n\r\n/**\r\n * Generates images composition based on different elements.\r\n * ``` typescript\r\n * // example\r\n * const composition = new broox.media.Composition(width, height, borderWidth);\r\n * composition.addElement(webcam, 0, 0, webcam.videoWidth, webcam.videoHeight, 1, false);\r\n * composition.get().then(blob => {\r\n *   image.src = URL.createObjectURL(blob);\r\n * )};\r\n * ```\r\n */\r\nexport class Composition {\r\n  private canvas: HTMLCanvasElement;\r\n  private context: CanvasRenderingContext2D;\r\n  private scale: number;\r\n  private borderWidth: number;\r\n\r\n  /**\r\n   * Generates an instance of the Composition class.\r\n   * @param width Composition width.\r\n   * @param height Composition height.\r\n   * @param borderWidth Border width.\r\n   */\r\n  constructor(width: number, height: number, borderWidth: number) {\r\n    this.borderWidth = borderWidth;\r\n    this.canvas = document.createElement('canvas');\r\n    this.scale = (width - this.borderWidth * 2) / width;\r\n    this.canvas.width = width;\r\n    this.canvas.height = height * this.scale + this.borderWidth * 2;\r\n    this.context = this.canvas.getContext('2d');\r\n    this.context.fillStyle = 'white';\r\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n\r\n  /**\r\n   * Adds an element to the composition.\r\n   * @param element Element to add.\r\n   * @param x Element X position.\r\n   * @param y Element Y position.\r\n   * @param width Element width.\r\n   * @param height Element height.\r\n   * @param scale Element scale.\r\n   * @param mirror Value indicating whether to mirror the image.\r\n   * ``` typescript\r\n   * // example\r\n   * const composition = new broox.media.Composition(width, height, borderWidth);\r\n   * composition.addElement(webcam, 0, 0, webcam.videoWidth, webcam.videoHeight, 1, false);\r\n   * composition.addElement(image, 0, 0, image.width, image.height, 1, false);\r\n   * ```\r\n   */\r\n  addElement(element: any, x: number, y: number, width: number, height: number, scale: number, mirror: boolean) {\r\n    const destinationWidth = width * this.scale * scale;\r\n    const destinationHeight = height * this.scale * scale;\r\n    const destinationX = this.borderWidth + x * scale * this.scale;\r\n    const destinationY = this.borderWidth + y * scale * this.scale;\r\n    drawElement(element, this.context, width, height, destinationWidth, destinationHeight, destinationX, destinationY, mirror);\r\n  }\r\n\r\n  /**\r\n   * Clears the composition.\r\n   */\r\n  clear() {\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n\r\n  /**\r\n   * Gets the resulting composition.\r\n   * @returns A promise with a blob containing the composition.\r\n   * ``` typescript\r\n   * // example\r\n   * composition.get().then(blob => {\r\n   *   image.src = URL.createObjectURL(blob);\r\n   * )};\r\n   * ```\r\n   */\r\n  get(): Promise<Blob> {\r\n    return new Promise((resolve) => {\r\n      this.canvas.toBlob(blob => resolve(blob), 'image/jpeg', 1);\r\n    });\r\n  }\r\n}","/**\r\n * Creates a video based on a stream.\r\n * ``` typescript\r\n * // example\r\n * const recorder = new broox.media.Recorder(stream);\r\n * recorder.start();\r\n * setTimeout(() => {\r\n *   recorder.stop().then(blob => {\r\n *     console.log(blob);\r\n *   )};\r\n * }, 10000);\r\n * ```\r\n */\r\nexport class Recorder {\r\n  private stream: MediaStream;\r\n  private recorder: MediaRecorder;\r\n  private promise: Promise<Blob>;\r\n  private resolve: (value: Blob | PromiseLike<Blob>) => void;\r\n\r\n  /**\r\n   * Creates an instance of the Recorder class. \r\n   */\r\n  constructor();\r\n  /**\r\n   * Creates an instance of the Recorder class.\r\n   * @param stream Stream to record.\r\n   */\r\n  constructor(stream: MediaStream);\r\n  constructor(stream?: MediaStream) {\r\n    this.stream = stream;\r\n  }\r\n\r\n  /**\r\n   * Sets a stream to record.\r\n   * @param stream Stream to record.\r\n   */\r\n  setStream(stream: MediaStream) {\r\n    this.stream = stream;\r\n  }\r\n\r\n  /**\r\n   * Starts recording.\r\n   */\r\n  start(options: MediaRecorderOptions) {\r\n    const self = this;\r\n    this.promise = new Promise((resolve, reject) => {\r\n      self.resolve = resolve;\r\n    });\r\n    let data = [];\r\n    this.recorder = new MediaRecorder(this.stream, options || {});\r\n    this.recorder.ondataavailable = e => data.push(e.data);\r\n    this.recorder.onstop = () => {\r\n      self.resolve(new Blob(data, { type: 'video/webm' }));\r\n    };\r\n    this.recorder.start();\r\n  }\r\n\r\n  /**\r\n   * Stops recording.\r\n   */\r\n  stop(): Promise<Blob> {\r\n    this.recorder.state === 'recording' && this.recorder.stop();\r\n    return this.promise;\r\n  }\r\n}","/**\r\n * Provides context to the apps executed within the Media Player.\r\n *\r\n * #### {@link Blobs}\r\n *\r\n * Parses tuio events recieved by apps and keeps track of the blobs.\r\n *\r\n * ``` typescript\r\n * // example\r\n * const blobs = new broox.mediaPlayer.Blobs();\r\n * const activeItems = blobs.getActiveItems();\r\n * ```\r\n * <br/>\r\n *\r\n * #### {@link KeyValue}\r\n *\r\n * Allows apps to persist json values associated to a project and a key.\r\n *\r\n * ``` typescript\r\n * // example\r\n * const user = {\r\n *   firstName: 'John',\r\n *   lastName: 'Doe'\r\n * };\r\n * const keyValue = new broox.mediaPlayer.KeyValue();\r\n * keyValue.set('testApp', 'profile', user);\r\n * const profile = keyValue.get('testApp', 'profile');\r\n * ```\r\n * <br/>\r\n *\r\n * #### {@link GestureHandler}\r\n *\r\n * Parses OSC events recieved by apps and allows to handle the different gestures.\r\n *\r\n * ``` typescript\r\n * // example\r\n * const gestureHandler = new broox.mediaPlayer.GestureHandler(500, 2);\r\n * gestureHandler.onPresence(() => console.log('Presence'));\r\n * ```\r\n * <br/>\r\n *\r\n * #### {@link OscListener}\r\n *\r\n * Listens to OSC events and executes callback functions.\r\n *\r\n * ``` typescript\r\n * // example\r\n * const oscListener = new broox.mediaPlayer.OscListener();\r\n * oscListener.add('/start', () => console.log('Start'));\r\n * ```\r\n * <br/>\r\n * \r\n * #### Functions\r\n * - {@link getMediaInfo}\r\n *   <br/>\r\n *   Gets media information.\r\n * - {@link getDeviceInfo}\r\n *   <br/>\r\n *   Gets device information.\r\n *   <br/>\r\n * - {@link logAlarm}\r\n *   <br/>\r\n *   Logs an alarm.\r\n *   <br/>\r\n * - {@link downloadFile}\r\n *   <br/>\r\n *   Downloads a file.\r\n * \r\n * @module mediaPlayer\r\n */\r\nexport { GestureType } from './gesture/GestureType';\r\nexport { GestureHandler } from './gesture/GestureHandler';\r\nexport { KeyValue } from './keyValue/KeyValue';\r\nexport { Blobs } from './blobs/Blobs';\r\nexport { AddressType } from './blobs/AddressType';\r\nexport { OscListener } from './OscListener';\r\nexport { getMediaInfo, getDeviceInfo } from './Info';\r\nexport { logAlarm } from './Log';\r\nexport { downloadFile } from './File';\r\n","/**\r\n * Gesture types\r\n * @module Gesture\r\n */\r\nexport enum GestureType {\r\n  LeftHandUp = 'left_hand_up',\r\n  RightHandUp = 'right_hand_up',\r\n  BothHandsUp = 'both_hands_up',\r\n  PointsLeft = 'points_left',\r\n  PointsRight = 'points_right',\r\n  LeftHandOnChest = 'left_hand_on_chest',\r\n  RightHandOnChest = 'right_hand_on_chest',\r\n  BothHandsOnChest = 'both_hands_on_chest'\r\n}","import { Gesture } from './Gesture';\r\nimport { GestureType } from './GestureType';\r\n\r\n/**\r\n * Parses gestures coming from Vision Node and allows to add callbacks to perform an action when such gestures occure.\r\n * ``` typescript\r\n * // example\r\n * const gestureHandler = new broox.mediaPlayer.GestureHandler(500, 2);\r\n * gestureHandler.onPresence(() => console.log('Presence'));\r\n * ```\r\n */\r\nexport class GestureHandler {\r\n  private time: number;\r\n  private delay: number;\r\n  private listening: boolean = true;\r\n  private gestures: Gesture[] = [];\r\n  private presenceCallback: () => any;\r\n  private bothHandsUpCallback: () => any;\r\n  private leftHandUpCallback: () => any;\r\n  private rightHandUpCallback: () => any;\r\n  private bothHandsOnChestCallback: () => any;\r\n  private leftHandOnChestCallback: () => any;\r\n  private rightHandOnChestCallback: () => any;\r\n\r\n  /**\r\n   * Creates an instance of the GestureHandler class.\r\n   * @param time Time lapse in milliseconds before accepting a gesture as such.\r\n   * @param delay Time lapse in seconds before listening to other gestures once a gesture is accepted.\r\n   */\r\n  constructor(time: number, delay: number) {\r\n    this.time = time;\r\n    this.delay = delay;\r\n    const self = this;\r\n    // listen osc events\r\n    window.addEventListener('message', event => {\r\n      for(let i = 0; i < event.data.length; i++) {\r\n        if(event.data[i].address === '/de/person') {\r\n          self.add(event.data[i].args);\r\n        }\r\n      }\r\n    }, false);\r\n  }\r\n\r\n  /**\r\n   * Adds a potential gesture to be processed.\r\n   * @param args OSC event args.\r\n   */\r\n  add(args: any[]): void {\r\n    if(this.listening) {\r\n      if(args[0] === 'id') {\r\n        this.presenceCallback && this.presenceCallback();\r\n      }\r\n      else if(args[0] === 'prop' && args[2] === 'poses') {\r\n        const types = args.slice(3);\r\n        if(types.length && types.indexOf(GestureType.LeftHandUp) >= 0 || types.indexOf(GestureType.RightHandUp) >= 0 || types.indexOf(GestureType.BothHandsUp) >= 0 || types.indexOf(GestureType.LeftHandOnChest) >= 0 || types.indexOf(GestureType.RightHandOnChest) >= 0 || types.indexOf(GestureType.BothHandsOnChest) >= 0) {\r\n          const gesture = new Gesture(types, new Date().getTime());\r\n          this.gestures.push(gesture);\r\n          this.check();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function for the \"presence\" gesture.\r\n   * @param callback Function that will be executed when the presence gesture is detected.\r\n   */\r\n  onPresence(callback: () => any) {\r\n    this.presenceCallback = callback;\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function for the \"both hands up\" gesture.\r\n   * @param callback Function that will be executed when the \"both hands up\" gesture is detected.\r\n   */\r\n  onBothHandsUp(callback: () => any) {\r\n    this.bothHandsUpCallback = callback;\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function for the \"left hand up\" gesture.\r\n   * @param callback Function that will be executed when the \"left hand up\" gesture is detected.\r\n   */\r\n  onLeftHandUp(callback: () => any) {\r\n    this.leftHandUpCallback = callback;\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function for the \"right hand up\" gesture.\r\n   * @param callback Function that will be executed when the \"right hand up\" gesture is detected.\r\n   */\r\n  onRightHandUp(callback: () => any) {\r\n    this.rightHandUpCallback = callback;\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function for the \"both hands on chest\" gesture.\r\n   * @param callback Function that will be executed when the \"both hands on chest\" gesture is detected.\r\n   */\r\n  onBothHandsOnChest(callback: () => any) {\r\n    this.bothHandsOnChestCallback = callback;\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function for the \"left hand on chest\" gesture.\r\n   * @param callback Function that will be executed when the \"left hand on chest\" gesture is detected.\r\n   */\r\n  onLeftHandOnChest(callback: () => any) {\r\n    this.leftHandOnChestCallback = callback;\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function for the \"right hand on chest\" gesture.\r\n   * @param callback Function that will be executed when the \"right hand on chest\" gesture is detected.\r\n   */\r\n  onRightHandOnChest(callback: () => any) {\r\n    this.rightHandOnChestCallback = callback;\r\n  }\r\n\r\n  /**\r\n   * Checks whether a gesture was made. \r\n   */\r\n  private check(): void {\r\n    // get last gesture\r\n    const lastIndex = this.gestures.length - 1;\r\n    const lastGesture = this.gestures[lastIndex];\r\n    const lastGestureTypes = lastGesture.getTypes();\r\n    if(lastGestureTypes.length === 1) {\r\n      const type = lastGestureTypes[0];\r\n      // if gesture is BothHandsUp or BothHandsOnChest, send the event\r\n      if(type === GestureType.BothHandsUp || type === GestureType.BothHandsOnChest) {\r\n        this.send(type);\r\n      }\r\n      else if(this.gestures.length > 1) {\r\n        const lastTimestamp = lastGesture.getTimestamp();\r\n        let i = lastIndex;\r\n        let gesture: Gesture | null = null;\r\n        // find last gesture before the time lapse defined\r\n        while(!gesture && --i >= 0 && this.gestures[i].getTypes().indexOf(type) >= 0) {\r\n          if(lastTimestamp - this.gestures[i].getTimestamp() > this.time) {\r\n            gesture = this.gestures[i];\r\n          }\r\n        }\r\n        if(gesture) {\r\n          this.send(type);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Executes a callback function based on the gesture made.\r\n   * @param type Gesture made.\r\n   */\r\n  private send(type: string): void {\r\n    console.log('Gesture ' + type + ' sent');\r\n    this.listening = false;\r\n    this.gestures = [];\r\n    setTimeout(() => {\r\n      this.listening = true;\r\n    }, this.delay * 1000);\r\n    if(type === GestureType.BothHandsUp) {\r\n      this.bothHandsUpCallback && this.bothHandsUpCallback();\r\n    }\r\n    else if(type === GestureType.LeftHandUp) {\r\n      this.leftHandUpCallback && this.leftHandUpCallback();\r\n    }\r\n    else if(type === GestureType.RightHandUp) {\r\n      this.rightHandUpCallback && this.rightHandUpCallback();\r\n    }\r\n    else if(type === GestureType.BothHandsOnChest) {\r\n      this.bothHandsOnChestCallback && this.bothHandsOnChestCallback();\r\n    }\r\n    else if(type === GestureType.LeftHandOnChest) {\r\n      this.leftHandOnChestCallback && this.leftHandOnChestCallback();\r\n    }\r\n    else if(type === GestureType.RightHandOnChest) {\r\n      this.rightHandOnChestCallback && this.rightHandOnChestCallback();\r\n    }\r\n  }\r\n}","/**\r\n * Represents a series of gestures in at a given time\r\n */\r\nexport class Gesture {\r\n  private types: string[] = [];\r\n  private timestamp: number = 0;\r\n\r\n  /**\r\n   * Creates an instance of the Gesture class.\r\n   * @param types Gesture types.\r\n   * @param timestamp Timestamp.\r\n   */\r\n  constructor(types: string[], timestamp: number) {\r\n    this.types = types;\r\n    this.timestamp = timestamp;\r\n  }\r\n\r\n  /**\r\n   * Gets the types.\r\n   * @returns Gesture types.\r\n   */\r\n  getTypes(): string[] {\r\n    return this.types;\r\n  }\r\n\r\n  /**\r\n   * Gets the timestamp.\r\n   * @returns Timestamp.\r\n   */\r\n  getTimestamp(): number {\r\n    return this.timestamp;\r\n  }\r\n}","import { FileSystemStorage } from './FileSystemStorage';\r\nimport { LocalStorage } from './LocalStorage';\r\nimport { Storage } from './Storage';\r\nimport { Window } from '../Window';\r\nimport Message from '../../../Message';\r\n\r\n/**\r\n * Stores and retrieves values in json format.\r\n * Allows to persist data and be able to retrieve it after the media changes or the Media Player is reloaded.\r\n * It can be useful for persisting configuration parameters modified at runtime.\r\n * A project name and a key need to be specified in order to store and retrieve the data.\r\n */\r\nexport class KeyValue {\r\n  private contents: { [key: string]: any; } = {};\r\n  private storage: Storage;\r\n\r\n  /**\r\n   * Creates an instance of the KeyValue class.\r\n   */\r\n  constructor() {\r\n    if(Window.inElectron()) {\r\n      this.storage = new FileSystemStorage(Window.writeJson, Window.readJson);\r\n    }\r\n    else {\r\n      this.storage = new LocalStorage();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets a value in storage\r\n   * @param name File name\r\n   * @param key Key assigned to the value to store\r\n   * @param value Value to store\r\n   * ``` typescript\r\n   * // example\r\n   * const user = {\r\n   *   firstName: 'John',\r\n   *   lastName: 'Doe'\r\n   * };\r\n   * const keyValue = new broox.mediaPlayer.KeyValue();\r\n   * keyValue.set('testApp', 'profile', user);\r\n   * ```\r\n   */\r\n  setValue(name: string, key: string, value: any) {\r\n    if(name === 'config') {\r\n      console.error(Message.forbiddenProjectName);\r\n      return;\r\n    }\r\n    // get storage\r\n    let content = this.getContent(name);\r\n    if(!content) {\r\n      content = {};\r\n    }\r\n    content[key] = value;\r\n    this.storage.write(name, content);\r\n  }\r\n\r\n  /**\r\n   * Gets a value from a content in storage\r\n   * @param name File name\r\n   * @param key Key\r\n   * @returns The value for the given key\r\n   * ``` typescript\r\n   * // example\r\n   * const keyValue = new broox.mediaPlayer.KeyValue();\r\n   * const user = keyValue.get('testApp', 'profile');\r\n   * console.log('User', user);\r\n   * ```\r\n   */\r\n  getValue(name: string, key: string): any {\r\n    const storage = this.getContent(name);\r\n    return storage ? storage[key] : null;\r\n  }\r\n\r\n  /**\r\n   * Gets a content from memory or storage\r\n   * @param name File name\r\n   * @returns The content with the given name if exists, null otherwise\r\n   */\r\n  private getContent(name: string): any {\r\n    // get storage from memory\r\n    if(this.contents[name]) {\r\n      return this.contents[name];\r\n    }\r\n    else {\r\n      // get content from storage\r\n      try {\r\n        return this.storage.read(name);\r\n      } catch (error) {\r\n        // the content does not exist\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n}","import { Storage } from './Storage';\r\n\r\nexport class FileSystemStorage implements Storage {\r\n  private writeJson: (name: string, json: any) => void;\r\n  private readJson: (name: string) => any;\r\n\r\n  /**\r\n   * \r\n   * @param writeJson Function to write a json\r\n   * @param readJson Function to read a json \r\n   */\r\n  constructor(writeJson: (name: string, json: any) => void, readJson: (name: string) => any) {\r\n    this.writeJson = writeJson;\r\n    this.readJson = readJson;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param name File name\r\n   * @param json Json content\r\n   */\r\n   write(name: string, json: any): void {\r\n    this.writeJson(name, JSON.stringify(json));\r\n   }\r\n\r\n   /**\r\n    * \r\n    * @param name File name\r\n    */\r\n   read(name: string): any {\r\n    const content = JSON.parse(this.readJson(name));\r\n    return content;\r\n   }\r\n}","import { Storage } from './Storage';\r\n\r\nexport class LocalStorage implements Storage {\r\n  /**\r\n   * \r\n   * @param name File name\r\n   * @param content Json content\r\n   */\r\n  write(name: string, content: any): void {\r\n    localStorage.setItem(name, JSON.stringify(content));\r\n  }\r\n  /**\r\n   * \r\n   * @param name File name\r\n   * @returns Json content for the given project\r\n   */\r\n  read(name: string): any {\r\n    const content = localStorage.getItem(name);\r\n    if(content) {\r\n      return JSON.parse(content);\r\n    }\r\n    return null;\r\n  }\r\n}","/**\r\n * Window wrapper\r\n */\r\nexport class Window {\r\n  static inElectron() {\r\n    // @ts-ignore\r\n    return !!window.electron;\r\n  }\r\n\r\n  static writeJson(name: string, json: any) {\r\n    // @ts-ignore\r\n    return window.app && window.app.writeJson(name, json);\r\n  }\r\n\r\n  static readJson(name: string) {\r\n    // @ts-ignore\r\n    return window.app && window.app.readJson(name);\r\n  }\r\n\r\n  static downloadFile(url: string, name: string, onUpdate: (percent: number) => void, onError: (error: any) => void, onSuccess: (path: string) => void) {\r\n    // @ts-ignore\r\n    return window.app && window.app.downloadFile && window.app.downloadFile(url, name, onUpdate, onError, onSuccess);\r\n  }\r\n\r\n  static getMediaInfo() {\r\n    // @ts-ignore\r\n    return window.app && window.app.media;\r\n  }\r\n\r\n  static getDeviceInfo() {\r\n    // @ts-ignore\r\n    return window.app && window.app.device;\r\n  }\r\n\r\n  static logAlarm(subject: string, text: string) {\r\n    //@ts-ignore\r\n    window.app && window.app.logAlarm(subject, text);\r\n  }\r\n}","import Rect from './Rect';\r\nimport { AddressType } from './AddressType';\r\nimport SingleBlob from './SingleBlob';\r\nimport SkeletonBlob from './SkeletonBlob';\r\n\r\nconst mouseBlobId = 'mouse';\r\nconst randomBlobId = 'random';\r\n\r\nexport class Blobs {\r\n  private type: string;\r\n  private onUpdateCallback: () => {};\r\n  private onBlobAddedCallback: (id: string, x: number, y: number) => {};\r\n  private onBlobDeletedCallback: (id: string) => {};\r\n  private onFrameUpdatedCallback: (fseq: any) => {};\r\n  private blobs: Map<string, any> = new Map();\r\n  private mouseEnabled: boolean = false;\r\n  private calculateBlobTimeAlive: boolean = true;\r\n  private randomBlobsEnabled: boolean = false;\r\n  private randomBlobsTimeout = null;\r\n  private randomBlobsCounter: number = 0;\r\n  private activeArea: Rect;\r\n  private scale: number = 1;\r\n\r\n  constructor(type: string, width: number, height: number, scale: number, onUpdate: () => {}, onBlobAdded: (id: string, x: number, y: number) => {}, onBlobDeleted: (id: string) => {}, onFrameUpdated: (fseq: any) => {}) {\r\n    this.type = type;\r\n    this.activeArea = { x: 0, y: 0, width: width, height: height };\r\n    this.scale = scale;\r\n    this.onUpdateCallback = onUpdate;\r\n    this.onBlobAddedCallback = onBlobAdded;\r\n    this.onBlobDeletedCallback = onBlobDeleted;\r\n    this.onFrameUpdatedCallback = onFrameUpdated;\r\n  }\r\n\r\n  getBlobs() {\r\n    return this.blobs;\r\n  }\r\n\r\n  setScale(scale: number) {\r\n    this.scale = scale;\r\n  }\r\n\r\n  setActiveArea(x: number, y: number, width: number, height: number) {\r\n    this.activeArea = { x: x, y: y, width: width, height: height };\r\n  }\r\n\r\n  enableMouseBlob(enabled: boolean, domElement: HTMLElement) {\r\n    this.mouseEnabled = enabled;\r\n    if(domElement === null) {\r\n      return;\r\n    }\r\n    const f = (evt: any) => {\r\n      this.updateBlob(mouseBlobId, evt.pageX / document.body.clientWidth, evt.pageY / document.body.clientHeight, 0, 0, 0, 0, 0, 0, '');\r\n    };\r\n    if(enabled) {\r\n      domElement.addEventListener('mousemove', f, false);\r\n    }\r\n    else {\r\n      this.updateBlobsAlive([]);\r\n      domElement.removeEventListener('mousemove', f, false);\r\n    }\r\n  }\r\n\r\n  enableRandomBlobs(enabled: boolean) {\r\n    this.randomBlobsEnabled = enabled;\r\n    if(this.randomBlobsTimeout !== null){\r\n      clearTimeout(this.randomBlobsTimeout);\r\n      this.randomBlobsTimeout = null;\r\n    }\r\n    this.randomBlobsCounter = 0;\r\n    enabled && this.createRandomBlob();\r\n  }\r\n\r\n  isMouseEnabled() {\r\n    return this.mouseEnabled;\r\n  }\r\n\r\n  areRandomBlobsEnabled() {\r\n    return this.randomBlobsEnabled;\r\n  }\r\n\r\n  killBlobs() {\r\n    this.updateBlobsAlive([]);\r\n  }\r\n\r\n  update() {\r\n    if(this.randomBlobsEnabled) {\r\n      let idsToRemove = [];\r\n      for(let [id, blob] of this.blobs) {\r\n        if(id.includes(randomBlobId)) {\r\n          if(this.isBlobInBounds(blob)){\r\n            const b = blob.get();\r\n            blob.update(b.x + b.velocityX, b.y + b.velocityY, 10, 10, 0, b.velocityX, b.velocityY);\r\n          }\r\n          else{\r\n            this.onBlobDeletedCallback(id);\r\n            idsToRemove.push(id);\r\n          }\r\n        }\r\n      }\r\n      for(let id of idsToRemove){\r\n        this.blobs.delete(id);\r\n      }\r\n    }\r\n  }\r\n \r\n  onOSCMessage(json: any) {\r\n    for(var i in json){\r\n      var args = json[i].args;\r\n      if(args == undefined) {\r\n        continue;\r\n      }\r\n      var address = json[i].address;\r\n      if(address !== this.type ) {\r\n        continue;\r\n      }\r\n      switch(args[0]) {\r\n        case 'fseq':\r\n          if(args.length > 1) {\r\n            this.onFrameUpdatedCallback && this.onFrameUpdatedCallback(args[1]);\r\n          }\r\n          break;\r\n        case 'set':\r\n          const blobData = this.parseBlobData(json[i].address, args);\r\n          if(blobData == null) {\r\n            continue;\r\n          }\r\n          this.updateBlobWithData(address, blobData);\r\n          this.onUpdateCallback && this.onUpdateCallback();\r\n          break;\r\n\r\n        case 'alive':\r\n          this.updateBlobsAlive(args);\r\n          this.onUpdateCallback && this.onUpdateCallback();\r\n          break;\r\n        default:\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  private parseBlobData(address: string, args: any[]) {\r\n    if(address === AddressType.skel){\r\n      return this.parseBlobSkeletonData(address, args);\r\n    }\r\n    var blobData: any = {};\r\n    blobData.id = args[1].toString();\r\n    switch(address) {\r\n      case AddressType.blob:\r\n        if(!this.checkBlobDataFormat(args, 13)) {\r\n          return null;\r\n        }\r\n        blobData.x = args[2];\r\n        blobData.y = args[3];\r\n        blobData.rotation = args[4];\r\n        blobData.width = args[5];\r\n        blobData.height = args[6];\r\n        blobData.velocityX = args[8];\r\n        blobData.velocityY = args[9];\r\n        blobData.timeAlive = args[12];\r\n        break;\r\n      case AddressType.object:\r\n        if(!this.checkBlobDataFormat(args, 11)) {\r\n          return null;\r\n        }\r\n        blobData.classId = args[2];\r\n        blobData.x = args[3];\r\n        blobData.y = args[4];\r\n        blobData.rotation = args[5];\r\n        break;\r\n      case AddressType.cursor:\r\n        if(!this.checkBlobDataFormat(args, 7)) {\r\n          return null;\r\n        }\r\n        blobData.x = args[2];\r\n        blobData.y = args[3];\r\n        blobData.width = 60 / this.activeArea.width;\r\n        blobData.height = blobData.width;\r\n        break;\r\n      case AddressType.marker:\r\n        console.log('is marker');\r\n        blobData.classId = args[2];\r\n        blobData.x = args[3];\r\n        blobData.y = args[4];\r\n        blobData.rotation = args[5];\r\n        blobData.width = args[6];\r\n        console.log(args[2]);\r\n        break;\r\n    }\r\n    let corrected = blobData;\r\n    blobData.x = corrected.x * this.activeArea.width + this.activeArea.x;\r\n    blobData.y = corrected.y * this.activeArea.height + this.activeArea.y;\r\n    blobData.width *= this.activeArea.width * this.scale;\r\n    blobData.height *= this.activeArea.height * this.scale;\r\n    return blobData;\r\n  }\r\n\r\n  private parseBlobSkeletonData(address: string, args: any[]) {\r\n    if(address !== AddressType.skel) {\r\n      console.log('Wrong address, expected ' + AddressType.skel + ' but got ' + address);\r\n      return null;\r\n    }\r\n    let blobData: any = {};\r\n    blobData.id = args[1].toString();\r\n    const scale = args[6];\r\n    blobData.leftHand = {\r\n      x: args[2],\r\n      y: args[3],\r\n      width: scale * this.activeArea.width * this.scale,\r\n      height: scale * this.activeArea.height * this.scale\r\n    };\r\n    blobData.rightHand = {\r\n      x: args[4],\r\n      y: args[5],\r\n      width: scale * this.activeArea.width * this.scale,\r\n      height: scale * this.activeArea.height * this.scale\r\n    }\r\n    blobData.scale = scale;\r\n    if(this.isSkeletonJointDetected(blobData.leftHand)) {\r\n      blobData.leftHand.x = blobData.leftHand.x * this.activeArea.width + this.activeArea.x;\r\n      blobData.leftHand.y = blobData.leftHand.y * this.activeArea.height + this.activeArea.y;\r\n    }\r\n    if(this.isSkeletonJointDetected(blobData.rightHand)) {\r\n      blobData.rightHand.x = blobData.rightHand.x * this.activeArea.width + this.activeArea.x;\r\n      blobData.rightHand.y = blobData.rightHand.y * this.activeArea.height + this.activeArea.y;\r\n    }\r\n    return blobData;\r\n  }\r\n\r\n  private isSkeletonJointDetected(joint: Rect) {\r\n    return joint.x >= 0 && joint.y >= 0;\r\n  }\r\n\r\n  private checkBlobDataFormat(args: any[], length: number) {\r\n    if(args.length !== length){\r\n      console.log('Wrong Tuio set format. Supposed to have length ' + length + ' and has length ' + args.length);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private updateBlobWithData(type: string, blobData: any) {\r\n    switch(type) {\r\n      case AddressType.skel:\r\n        let id = blobData.id;\r\n        if(!this.blobs.has(id)) {\r\n          const blob = new SkeletonBlob(id);\r\n          this.blobs.set(id, blob);\r\n          blob.update(blobData.leftHand, blobData.rightHand, blobData.scale);\r\n          this.onBlobAddedCallback && this.onBlobAddedCallback(id, 0, 0);\r\n        }\r\n        else {\r\n          const blob = this.blobs.get(id);\r\n          blob.update(blobData.leftHand, blobData.rightHand, blobData.scale);\r\n        }\r\n        break;\r\n      default:\r\n        this.updateBlob(blobData.id, blobData.x, blobData.y, blobData.width, blobData.height, blobData.rotation, blobData.velocityX, blobData.velocityY, blobData.timeAlive, blobData.classId);\r\n    }\r\n  }\r\n\r\n  private updateBlob(id: string, x: number, y: number, width: number, height: number, rotation: number, velocityX: number, velocityY: number, timeAlive: number = 0, classId: string = '') {\r\n    if(!this.blobs.has(id)) {\r\n      const blob = new SingleBlob(id, classId);\r\n      this.blobs.set(id, blob);\r\n      blob.update(x, y, width, height, rotation, velocityX, velocityY, timeAlive);\r\n      this.onBlobAddedCallback && this.onBlobAddedCallback(id, x, y);\r\n    }\r\n    else {\r\n      const blob = this.blobs.get(id);\r\n      let blobTimeAlive = timeAlive;\r\n      if(this.calculateBlobTimeAlive && blobTimeAlive <= 0){\r\n        blobTimeAlive = blob.timeAlive + 0.01;\r\n      }\r\n      blob.update(x, y, width, height, rotation, velocityX, velocityY, blobTimeAlive);\r\n    }\r\n    this.onUpdateCallback && this.onUpdateCallback();\r\n  }\r\n\r\n  private updateBlobsAlive(idsAlive: any[]) {\r\n    const idsToRemove = [];\r\n    if(!idsAlive || idsAlive.length === 0) {\r\n      this.blobs.clear();\r\n    }\r\n    else {\r\n      for (let [id, blob] of this.blobs) {\r\n        let isAlive = false\r\n        for(let aliveItem of idsAlive) {\r\n          isAlive = aliveItem === id;\r\n          if (isAlive) {\r\n            break;\r\n          }\r\n        }\r\n        if(!isAlive) {\r\n          this.onBlobDeletedCallback && this.onBlobDeletedCallback(id);\r\n          idsToRemove.push(id);\r\n        }\r\n      }\r\n      for(let id of idsToRemove) {\r\n        this.blobs.delete(id);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // private onMouseUpdate(evt: any) {\r\n  //   this.updateBlob(mouseBlobId, evt.pageX / document.body.clientWidth, evt.pageY / document.body.clientHeight, 0, 0, 0, 0, 0, 0, '');\r\n  // }\r\n\r\n  private createRandomBlob() {\r\n    if(!this.randomBlobsEnabled) {\r\n      return;\r\n    }\r\n    const fromTopOrBottom = Math.random() <= 0.5;\r\n    const dirX = Math.random() <= 0.5 ? 1 : -1;\r\n    const dirY = Math.random() <= 0.5 ? 1 : -1;\r\n    const minVelX = fromTopOrBottom ? 0 : 0.5;\r\n    const minVelY = fromTopOrBottom ? 0.5 : 0;\r\n    const velocityX = (Math.random() * 2 + minVelX) * dirX;\r\n    const velocityY = (Math.random() * 2 + minVelY) * dirY;\r\n    const x = fromTopOrBottom ? this.activeArea.width * Math.random() + this.activeArea.x : (velocityX > 0 ? this.activeArea.x : this.activeArea.width + this.activeArea.x);\r\n    const y = fromTopOrBottom ? (velocityY > 0 ? this.activeArea.y : this.activeArea.height + this.activeArea.y) : this.activeArea.height * Math.random() + this.activeArea.y;\r\n    this.updateBlob('random_' + this.randomBlobsCounter, x, y, 10, 10, 0, velocityX, velocityY);\r\n    this.randomBlobsCounter++;\r\n    this.randomBlobsTimeout = setTimeout(() => {\r\n      this.createRandomBlob();\r\n    }, Math.random() * 3000 + 1000);   \r\n  }\r\n\r\n  private isBlobInBounds(blob: Rect) {\r\n    return !(blob.x < -9 + this.activeArea.x || blob.x > this.activeArea.width + this.activeArea.x || blob.y < -this.activeArea.height * 0.5 + this.activeArea.y || blob.y > this.activeArea.height + this.activeArea.y);\r\n  }\r\n}","export enum AddressType {\r\n  object = '/tuio/2Dobj',\r\n  cursor = '/tuio/2Dcur',\r\n  blob = '/tuio/2Dblb',\r\n  marker = '/tuio/broox_markers',\r\n  skel = '/tuio/skel'\r\n}","import Rect from './Rect';\r\n\r\nclass SingleBlob {\r\n  private id: string;\r\n  private classId: string;\r\n  private rotation: number;\r\n  private timeAlive: number;\r\n  private velocityX: number;\r\n  private velocityY: number;\r\n  private rect: Rect;\r\n\r\n  constructor(id: string, classId: string = '') {\r\n    this.id = id;\r\n    this.classId = classId;\r\n  }\r\n\r\n  update(x: number, y: number, width: number, height: number, rotation: number = 0, velocityX: number = null, velocityY: number = null, timeAlive: number = 0) {\r\n    this.rect = { x, y, width, height };\r\n    this.rotation = rotation;\r\n    this.timeAlive = timeAlive;\r\n    if(velocityX === null && velocityY === null && this.rect.x !== null && this.rect.y !== null){\r\n      this.velocityX = x - this.rect.x;\r\n      this.velocityY = y - this.rect.y;\r\n    }\r\n    else{\r\n      this.velocityX = velocityX;\r\n      this.velocityY = velocityY;\r\n    }\r\n  }\r\n\r\n  get() {\r\n    return {\r\n      id: this.id,\r\n      classId: this.classId,\r\n      rect: this.rect,\r\n      rotation: this.rotation,\r\n      timeAlive: this.timeAlive,\r\n      velocityX: this.velocityX,\r\n      velocityY: this.velocityY\r\n    };\r\n  }\r\n}\r\n\r\nexport default SingleBlob;","import Rect from './Rect';\r\n\r\nclass SkeletonBlob {\r\n  private id: string;\r\n  private leftHand: Rect;\r\n  private rightHand: Rect;\r\n  private scale: number;\r\n\r\n  constructor(id: string) {\r\n    this.id = id;\r\n  }\r\n\r\n  update(leftHand: Rect, rightHand: Rect, scale: number) {\r\n    this.leftHand.x = leftHand.x;\r\n    this.leftHand.y = leftHand.y;\r\n    this.leftHand.width = leftHand.width;\r\n    this.leftHand.height = leftHand.height;\r\n    this.rightHand.x = rightHand.x;\r\n    this.rightHand.y = rightHand.y;\r\n    this.rightHand.width = rightHand.width;\r\n    this.rightHand.height = rightHand.height;\r\n    this.scale = scale;\r\n  }\r\n\r\n  get() {\r\n    return {\r\n      id: this.id,\r\n      leftHand: this.leftHand,\r\n      rightHand: this.rightHand,\r\n      scale: this.scale\r\n    }\r\n  }\r\n}\r\n\r\nexport default SkeletonBlob;","/**\r\n * Listens to OSC events and executes callback functions.\r\n * ``` typescript\r\n * // example\r\n * const oscListener = new broox.mediaPlayer.OscListener();\r\n * oscListener.add('/start', () => console.log('Start'));\r\n * ```\r\n */\r\nexport class OscListener {\r\n  private events: Map<string, () => any> = new Map<string, () => any>();\r\n\r\n  /**\r\n   * Creates an instance of the OscListener class.\r\n   */\r\n  constructor() {\r\n    const self = this;\r\n    // listen osc events\r\n    window.addEventListener('message', event => {\r\n      for(let i = 0; i < event.data.length; i++) {\r\n        const e = event.data[i].address;\r\n        if(self.events.has(e)) {\r\n          const callback = self.events.get(e);\r\n          callback();\r\n        }\r\n      }\r\n    }, false);\r\n  }\r\n\r\n  /**\r\n   * Adds a callback function to the given event.\r\n   * @param event Event name to listen to.\r\n   * @param callback Function to execute when the event is recieved.\r\n   */\r\n  add(event: string, callback: () => any) {\r\n    this.events.set(event, callback);\r\n  }\r\n}","import{ Window } from './Window';\r\n\r\n/**\r\n * Gets media information.\r\n * @returns Media information.\r\n * ``` typescript\r\n * // example\r\n * const mediaInfo = broox.mediaPlayer.getMediaInfo();\r\n * ```\r\n */\r\nexport const getMediaInfo = (): any => {\r\n  return Window.getMediaInfo();\r\n}\r\n\r\n/**\r\n * Gets device information.\r\n * @returns Device information.\r\n * ``` typescript\r\n * // example\r\n * const deviceInfo = broox.mediaPlayer.getDeviceInfo();\r\n * ```\r\n */\r\n export const getDeviceInfo = (): any => {\r\n  return Window.getDeviceInfo();\r\n}","import { Window } from './Window';\r\n\r\n/**\r\n * Logs an alarm.\r\n * @param subject Alarm subject.\r\n * @param text Alarm text.\r\n * ``` typescript\r\n * // example\r\n * broox.mediaPlayer.logAlarm('Error', e.message);\r\n * ```\r\n */\r\nexport const logAlarm = (subject: string, text: string): any => {\r\n  return Window.logAlarm(subject, text);\r\n}\r\n","import { Window } from './Window';\r\n\r\n/**\r\n * Downloads a file.\r\n * @param url File url.\r\n * @param name File name.\r\n * @param onUpdate Callback function that indicates the percentage of the operation.\r\n * ``` typescript\r\n * // example\r\n * broox.mediaPlayer.downloadFile(url, name, onUpdate).then(filePath => ...);\r\n * ```\r\n */\r\nexport const downloadFile = (url: string, name: string, onUpdate: (percent: number) => void): Promise<string> => {\r\n  return new Promise<string>((resolve, reject) => {\r\n    Window.inElectron() ? Window.downloadFile(url, name, onUpdate, (error: any) => reject(error), (path: string) => resolve(path)) : resolve(url);\r\n  });\r\n}\r\n"],"names":[],"version":3,"file":"broox.js.map"}